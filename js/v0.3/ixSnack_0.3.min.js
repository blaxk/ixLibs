/**
 * ixSnack.js - Javascript UI Library
 * jQuery v1.8~ (http://jquery.com) + ixBand v0.8~ (http://ixband.com)
 * @version v0.3 - 160406
 * Licensed under the MIT, http://ixsnack.com
 */
;(function(E,r){var Q={VERSION:"0.3"},S=1,L={};E.fn.extend({ixOptions:function(a){if(r.object.is(a))return this.each(function(b,c){var l=p.objToOptions(E(c).attr("data-ix-options"),a);E(c).attr("data-ix-options",l).addClass("ix-options-apply")});var b=p.parseOptions(this.attr("data-ix-options"));r.string.is(a)&&(b=(b=b[r.string.camelCase(a)])?r.array.is(b)?[b[0].unit?b[0].value+b[0].unit:b[0].value,b[1].unit?b[1].value+b[1].unit:b[1].value]:b.unit?b.value+b.unit:b.value:void 0);return b},ixSlideMax:function(a,
b){return p.setPlugin(this,"slide-max",V,a,b)},ixSlideLite:function(a,b){return p.setPlugin(this,"slide-lite",W,a,b)},ixOverlayList:function(a,b){return p.setPlugin(this,"overlay-list",X,a,b)},ixRangeSlider:function(a,b){return p.setPlugin(this,"range-slider",Y,a,b)},ixSlider:function(a,b){return p.setPlugin(this,"slider",Z,a,b)},ixRatioSize:function(a){a&&r.object.is(a)&&this.ixOptions(a);return this.each(function(a,g){var c=E(g),l=p.parseOptions(c.attr("data-ix-options")),u=l.axis?l.axis.value:
"horizontal",q=l.controlType?l.controlType.value:"style",k,r=!1;l.ratio&&("horizontal"===u?(u=c.width(),k=l.ratio[1].value/l.ratio[0].value*u,u&&("style"!==q&&"all"!==q||c.css("height",k+"px"),"attr"!==q&&"all"!==q||c.attr("height",k),r=!0)):(k=c.height(),u=l.ratio[0].value/l.ratio[1].value*k,k&&("style"!==q&&"all"!==q||c.css("width",u+"px"),"attr"!==q&&"all"!==q||c.attr("width",u),r=!0)),r&&c.addClass("ix-ratio-size-apply"))})}});var p={TRANSFORM:function(){if(!r.ua.MSIE||!r.ua.DOC_MODE_IE10_LT)for(var a=
["transform","WebkitTransform"],b=0;b<a.length;++b)if(void 0!==document.createElement("div").style[a[b]])return r.string.hyphenCase(a[b]);return null}(),setPlugin:function(a,b,g,c,l){if("string"===typeof c){if(/^get[A-Z]/.test(c))return p.callPlugin(a.eq(0),b,c,l);a.each(function(a,g){p.callPlugin(E(g),b,c,l)})}else a.each(function(a,l){var k=E(l);p.hasPlugin(k,b)||(r.object.is(c)&&k.ixOptions(c),p.addPlugin(k,b,new g(k)))});return a},hasPlugin:function(a,b){return a.prop(b)&&a.hasClass("ix-"+b+"-apply")},
addPlugin:function(a,b,g){a.prop(b,S).addClass("ix-"+b+"-apply");L[S]=g;S++},removePlugin:function(a,b){a.removeProp(b).removeClass("ix-"+b+"-apply").removeClass("ix-options-apply");delete L[a.prop(b)]},callPlugin:function(a,b,g,c,l){a=a.prop(b);if(L[a]&&"function"===typeof L[a][g])return L[a][g](c,l)},objToOptions:function(a,b){for(var g in b){var c=b[g];if(c||"number"===typeof c){var l=r.string.hyphenCase(g),u=new RegExp(l+"\\s*?:\\s*?([\\w\\-.,\\s\\/?&:=\\(\\)%]+);?","gi");u.test(a)?a=a.replace(u,
l+":"+c+";"):(/;\s*?$/.test(a)||(a+=";"),a+=" "+l+":"+c)}}return a},parseOptions:function(a){var b={};String(a).replace(/([a-z\-]+)\s*?:\s*?([\w\-.,\s\/?&:=\(\)%\*\!\~]+);?/g,function(a,c,l){"add-first-str"===c||"add-last-str"===c?b[r.string.camelCase(c)]={value:decodeURIComponent(l),unit:""}:b[r.string.camelCase(c)]=p.parseOptionValue(r.string.trim(l))});return b},parseOptionValue:function(a){var b={};-1<a.indexOf(" ")?(b=[],String(a).replace(/([-\d\.]+|[a-z-]+)([a-z\%]+)?/g,function(a,c,l){b.push({value:p.parseDataType(c),
unit:l||""})})):String(a).replace(/([-\d\.\s]+|[a-z-]+)([a-z\%]+)?/,function(a,c,l){b={value:p.parseDataType(c),unit:l||""}});return b},parseDataType:function(a){a&&(-1<a.indexOf("true")?a=Boolean(a):-1<a.indexOf("false")?a=Boolean():/^[0-9\.\-]+$/.test(a)&&(a=Number(a)));return a},getOptions:function(a){a=p.parseOptions(a);var b={axis:a.axis?a.axis.value:"horizontal",loop:a.loop?a.loop.value:!0,duration:a.duration?a.duration.value:0,autoPlay:a.autoPlay?a.autoPlay.value:!1,delay:a.delay?a.delay.value:
4E3,blockClickEvent:a.blockClickEvent?a.blockClickEvent.value:!1,viewLength:a.viewLength?a.viewLength.value:1,motionType:a.motionType?a.motionType.value:"slide",viewportRatio:a.viewportRatio?a.viewportRatio:null,easing:a.easing?a.easing.value:"ease",itemSize:a.itemSize?a.itemSize:null,itemMargin:a.itemMargin?a.itemMargin:null,defaultIndex:a.defaultIndex?a.defaultIndex.value:0,datumPoint:a.datumPoint?a.datumPoint.value+a.datumPoint.unit:0,opposite:a.opposite?a.opposite.value:!1,paging:a.paging?a.paging.value:
!1,correctEndpoint:a.correctEndpoint?a.correctEndpoint.value:!1,includeMargin:a.includeMargin?a.includeMargin.value:!1,bounce:a.bounce?a.bounce.value:!0,min:a.min?a.min.value:null,max:a.max?a.max.value:null,gap:a.gap?a.gap.value:1,snap:a.snap?a.snap.value:!1,values:a.values?a.values:null,numberFormat:a.numberFormat?a.numberFormat.value:!1,addFirstStr:a.addFirstStr?a.addFirstStr.value:"",addLastStr:a.addLastStr?a.addLastStr.value:"",value:a.value?a.value.value:null,disable:a.disable?a.disable.value:
!1};b.moveLength=a.moveLength?a.moveLength.value:b.viewLength;b.easing=r.string.camelCase(b.easing);b.paging&&b.loop&&(b.paging=!1);return b},move:function(a,b,g,c,l,u){var q="";if(p.TRANSFORM)if(q=r.ua.TOUCH_DEVICE?p.TRANSFORM+":translate3d("+("horizontal"===g.axis?b+",0":"0,"+b)+",0);":p.TRANSFORM+":translate"+("horizontal"===g.axis?"X":"Y")+"("+b+");",u)r(a).transition(q,"none"),"function"===typeof c&&c.call(this,{data:l});else{b=ixSnack.getCssEasing?ixSnack.getCssEasing(g.easing):g.easing;var k=
p.TRANSFORM+" "+g.duration+"ms "+b+";";autoComplete="function"===typeof c?setTimeout(function(a){"function"===typeof c&&c.call(this,{data:l});autoComplete&&clearTimeout(autoComplete)},2*g.duration):null;setTimeout(function(b){r(a).transition(q,k,{onTransitionEnd:function(b){"function"===typeof c&&c.call(a.get(0),{data:l});autoComplete&&clearTimeout(autoComplete)}},l)},1)}else q="horizontal"===g.axis?{left:b}:{top:b},u?(a.stop().css(q),"function"===typeof c&&c.call(this,{data:l})):(b="ease"===g.easing?
"swing":g.easing,a.stop().animate(q,g.duration,b,function(){"function"===typeof c&&c.call(this,{data:l})}))},moveTo:function(a,b,g,c,l){this.move(a,b,g,c,l,!0)},opacity:function(a,b,g,c,l,u){if(p.TRANSFORM)if(u)r(a).transition("opacity:"+b,"none"),"function"===typeof c&&c.call(this,{data:l});else{var q="function"===typeof c?setTimeout(function(a){"function"===typeof c&&c.call(this,{data:l});q&&clearTimeout(q)},2*g.duration):null;setTimeout(function(k){r(a).transition("opacity:"+b,"opacity "+g.duration+
"ms ease;",function(a){"function"===typeof c&&q&&(clearTimeout(q),c.call(this,{data:l}))},l)},10)}else u?(a.stop().css({opacity:b}),"function"===typeof c&&c.call(this,{data:l})):a.stop().animate({opacity:b},g.duration,"swing",function(){"function"===typeof c&&c.call(this,{data:l})})}},V=function(a){function b(a){switch(a.type){case "next":e.next();break;case "prev":e.prev();break;case "index":e.changeIndex(a.index)}}function g(a){switch(a.type){case "change":v("slideStart");O=a.endpoint;G=Number(h.eq(a.index).attr("data-origin-idx"));
q(a.index,d.motionType);break;case "correct":q(a.index,"none",!0);break;case "init":O=a.endpoint,G=Number(h.eq(a.index).attr("data-origin-idx")),q(a.index,"none",!1,!0)}}function c(a){h=F.find("> .ix-list-item");n=h.length;a&&(w=n)}function l(){var a=h.slice(n-d.viewLength-1,n).clone(),b=h.slice(0,d.viewLength+1).clone();a.length&&a.insertBefore(h.eq(0));b.length&&F.append(b);d.firstCloneLength=a.length;m=a.add(b);m.addClass("ix-clone")}function u(a){"mouseover"===a.type?e.stopTimer():e.startTimer()}
function q(a,b,f,w){var c;c=-(a*A);d.correctEndpoint&&!d.loop&&!d.paging&&O&&(n-a)*A<J&&(c=-(n*A-J));var h=M===G;K=!0;e.stopTimer();D.disable().setIndex(G,a);"slide"===b?p.move(F,c+"px",d,k,{idx:a,isCorrect:f,isSilent:w,isUnaltered:h}):p.moveTo(F,c+"px",d,k,{idx:a,isCorrect:f,isSilent:w,isUnaltered:h});N=c;I=a;M=G}function k(a){!a.data.isCorrect&&y&&y.correct(a.data.idx);D.enable();e.startTimer();K=!1;a.data.isSilent||a.data.isCorrect||(a.data.isUnaltered||v("change"),v("slideEnd"))}function H(){var a,
b,f,G={},w={},c=x(),M=c[0]+c[1];d.viewportRatio&&B.css("height",r(B.get(0)).rect().width*(d.viewportRatio[1].value/d.viewportRatio[0].value)+"px");d.itemSize?A=d.itemSize.value:(a="horizontal"===d.axis?"width":"height",A=r(h.get(0)).rect()[a]);d.includeMargin||(A+=M);"horizontal"===d.axis?(a="width",b="innerWidth",f=["marginLeft","marginRight"]):(a="height",b="innerHeight",f=["marginTop","marginBottom"]);w[a]=A*n+100+"px";G[a]=A-M+"px";G[f[0]]=c[0]+"px";G[f[1]]=c[1]+"px";n>d.viewLength&&(w[f[0]]=
d.datumPoint);h.css(G);F.css(w);J=B[b]()}function x(){var a=[];if(d.itemMargin)a=[d.itemMargin[0].value,d.itemMargin[1].value];else{var b=h.css("horizontal"===d.axis?["marginLeft","marginRight"]:["marginTop","marginBottom"]);E.each(b,function(b,f){a.push(parseFloat(f))})}return a}function z(){B.attr("style","");F.attr("style","");h.attr("style","")}function v(a){var b=-1<"init change slideEnd".indexOf(a)?O:void 0;t.triggerHandler({type:"ixSlideMax:"+a,currentIndex:G,totalLength:w,endpoint:b})}var e=
this,t=a,B=t.find("> .ix-list-viewport"),F=B.find("> .ix-list-items"),h,m,d=p.getOptions(t.attr("data-ix-options")),f,C,y,D,w,n,A,J,I=0,G=-1,M=-1,N=0,K=!1,O=!1;this.startTimer=function(){f&&f.reset().start()};this.stopTimer=function(){f&&f.stop()};this.changeIndex=function(a){a>w||0>a||(G<a?e.next(a-G,!0):G>a&&e.prev(G-a,!0))};this.next=function(a,b){K||y.next(a,b)};this.prev=function(a,b){K||y.prev(a,b)};this.clear=function(){this.stopTimer();t.off("mouseover mouseout",u);D.clear();C&&C.clear();
z();F.stop();h.removeAttr("data-origin-idx").removeAttr("data-idx");m&&m.remove();p.removePlugin(t,"slide-max")};this.resize=function(){e.stopTimer();z();H();q(I,"none",!0,!0)};this.getCurrentIndex=function(){return G};this.getTotalLength=function(){return w};c(!0);(function(){h.each(function(a,b){E(b).attr("data-origin-idx",a)});d.loop&&w>d.viewLength&&(l(),c());h.each(function(a,b){E(b).attr("data-idx",a)})})();H();(function(){d.autoPlay&&(f=(new r.utils.Timer(d.delay,n,{onTimer:function(a){d.opposite?
e.prev():e.next()},onComplete:function(a){e.startTimer()}})).start())})();(function(){if(d.autoPlay)t.on("mouseover mouseout",u);r.ua.TOUCH_DEVICE&&n>d.viewLength&&(C=(new r.mobile.Swipe(B.get(0),d.axis,{onAxis:function(a){K||(e.stopTimer(),v("touchStart"))},onMove:function(a){if(!K&&"slide"===d.motionType){a="horizontal"===d.axis?a.growX:a.growY;var b;b=a+N;var f=!1,G=0;d.loop||(G=d.paging?-(d.viewLength*Math.floor(n/d.viewLength)*A):d.correctEndpoint?-(n*A-J):-((n-d.viewLength)*A),0<b?f=!0:b<G&&
(f=!0));a=(b=f)?.3*a+N:a+N;if(b&&d.bounce||!b)p.moveTo(F,a+"px",d),N=a}},onSwipe:function(a){K||(e.startTimer(),v("touchEnd"),0!==("horizontal"===d.axis?a.moveX:a.moveY)&&(a=a.swipe,"left"===a||"up"===a?e.next():"right"===a||"down"===a?e.prev():(v("slideStart"),q(I,d.motionType))))}})).sensitivity(.5))})();d.originLength=w;d.totalLength=n;d.moveLength>d.viewLength&&(d.moveLength=d.viewLength);d.duration||(d.duration=400);D=new R(t,d,{onNext:b,onPrev:b,onIndex:b});y=new U(d,{onChange:g,onCorrect:g,
onInit:g});v("init")},R=function(a,b,g){function c(a){b.originLength>b.viewLength&&!b.loop&&(0<a?k.removeClass("disabled"):k.addClass("disabled"),a<b.totalLength-b.viewLength?p.removeClass("disabled"):p.addClass("disabled"));return this}function l(a){var c=b.paging?Math.ceil(a/b.viewLength):a;z.removeClass("active").eq(c).addClass("active");t=a}function u(a,b){t=Number(b);g["on"+r.string.capitalize(a)].call(this,{type:a,index:t})}var q=a.find("> .ix-controller"),k=q.find(".ix-btn-prev"),p=q.find(".ix-btn-next"),
x=q.find(".ix-thumbs"),z,v="",e=!1,t=0;this.setIndex=function(a,b){l(a);c(b);return this};this.enable=function(){e=!1;return this};this.disable=function(){e=!0;return this};this.clear=function(){k.off();p.off();z.off("click","a.ix-btn");x.html(v);q.removeClass("disabled");k.removeClass("disabled");p.removeClass("disabled")};(function(){var a="",c=b.paging?Math.ceil(b.originLength/b.viewLength):b.originLength;v=x.html();for(var e=E("<div>").append(x.find("> .ix-thumb")).html(),g=0;g<c;++g)a+=e.replace(/\x3c!--[-\s]*ix-index[\s-]*--\x3e/gim,
g);x.html(a);z=x.find("> .ix-thumb").each(function(a,f){var c=b.paging?a*b.viewLength:a;E(f).attr("data-idx",c)})})();(function(){k.on("click",function(a){a.preventDefault();E(this).hasClass("disabled")||e||u("prev")});p.on("click",function(a){a.preventDefault();E(this).hasClass("disabled")||e||u("next")});z.on("click","a.ix-btn",function(a){a.preventDefault();e||u("index",E(a.currentTarget).closest(".ix-thumb").attr("data-idx"))})})();l(0);b.originLength<=b.viewLength&&(k.addClass("disabled"),p.addClass("disabled"),
q.addClass("disabled"))},U=function(a,b){function g(a,b){var e=x+a;k.loop?b&&(1>e?(u("correct",v-(z-x)),e=x+a):e>k.totalLength-1&&(u("correct",z+(x-v)),e=x+a)):e=c(e);u("change",e)}function c(a){if(0>a)a=0;else if(a>e-k.viewLength){var b=e%k.viewLength;if(k.paging&&b){var c=Math.ceil(e/k.viewLength)-1;Math.ceil(a/k.viewLength)>c&&(a=e-b)}else a=e-k.viewLength}return a}function l(a){var b=!1;if(!k.loop)if(k.paging){var c=Math.ceil(e/k.viewLength)-1;Math.ceil(a/k.viewLength)>=c&&(b=!0)}else a>=e-k.viewLength&&
(b=!0);return b}function u(a,b){x=b;var c="on"+r.string.capitalize(a);p[c]&&p[c].call(this,{type:a,index:b,endpoint:l(b)})}var q=this,k=a||{},p="object"===typeof b?b:{},x=0,z=0,v=0,e=k.originLength;this.prev=function(a,b){e<=k.viewLength||g(-(a||k.moveLength),b)};this.next=function(a,b){e<=k.viewLength||g(a||k.moveLength,b)};this.correct=function(a){if(k.loop&&!(e<=k.viewLength)){var b;b="";var c=k.datumPoint?1:0;a+2*k.viewLength>k.totalLength?b="next":a-k.viewLength<c&&(b="prev");"next"===b?u("correct",
z+(a-v)):"prev"===b?u("correct",v-(z-a)):x=a}};(function(){k.loop&&e>k.viewLength&&(z=k.firstCloneLength,v=z+e);var a=z;k.defaultIndex&&(k.loop?(q.correct(k.defaultIndex+z),a=x):a=c(k.defaultIndex));u("init",a)})()},W=function(a){function b(a){switch(a.type){case "next":t.next();break;case "prev":t.prev();break;case "index":t.changeIndex(a.index)}}function g(a,b,f){"number"===typeof b&&a!==b&&(l(b,f),a=b);a=c(a);a===n&&(f="none");e("slideStart");u(a,f,d.motionType)}function c(a){a>D-1?a=d.loop?0:
D-1:0>a&&(a=d.loop?D-1:0);return a}function l(a,b){var f=b?n:a,c=k(a,b),e=H(a,b),g="horizontal"===d.axis?"left":"top";-1<c&&m.eq(c).css(g,"0px").show();m.eq(f).css(g,w+"px").show();-1<e&&m.eq(e).css(g,2*w+"px").show();m.filter(function(a){return c!==a&&e!==a&&f!==a}).hide();p.moveTo(h,-w+"px",d);I=-w;J=f}function u(a,b,f,e){a=c(a);var n=-w;A=!0;t.stopTimer();y.disable().setIndex(a,a);"next"===b?n=-(2*w):"prev"===b&&(n=0);"slide"===f?p.move(h,n+"px",d,q,{idx:a,isSilent:e}):p.moveTo(h,n+"px",d,q,{idx:a,
isSilent:e});I=n}function q(a){var b=n;y.enable();t.startTimer();A=!1;n=a.data.idx;l(n);a.data.isSilent||(b!==n&&e("change"),e("slideEnd"))}function k(a,b){var f=b?"next"===b?-1:a:a-1;return"next"===b?f:d.loop?c(f):f}function H(a,b){var f=b?"prev"===b?-1:a:a+1;return"prev"===b?f:d.loop?c(f):f}function x(){var a,b,f={},c={},e=z(),g=e[0]+e[1];d.viewportRatio&&F.css("height",r(F.get(0)).rect().width*(d.viewportRatio[1].value/d.viewportRatio[0].value)+"px");d.itemSize?w=d.itemSize.value:(a="horizontal"===
d.axis?"width":"height",w=r(m.get(n)).rect()[a]);d.includeMargin||(w+=g);"horizontal"===d.axis?(a="width",b=["marginLeft","marginRight"]):(a="height",b=["marginTop","marginBottom"]);c[a]=w*D+100+"px";f[a]=w-g+"px";f[b[0]]=e[0]+"px";f[b[1]]=e[1]+"px";m.css(f);h.css(c)}function z(){var a=[];if(d.itemMargin)a=[d.itemMargin[0].value,d.itemMargin[1].value];else{var b=m.css("horizontal"===d.axis?["marginLeft","marginRight"]:["marginTop","marginBottom"]);E.each(b,function(b,f){a.push(parseFloat(f))})}return a}
function v(a){"mouseover"===a.type?t.stopTimer():t.startTimer()}function e(a){var b=-1<"init change slideEnd".indexOf(a)?!d.loop&&n===D-1:void 0;B.triggerHandler({type:"ixSlideLite:"+a,currentIndex:n,totalLength:D,endpoint:b})}var t=this,B=a,F=B.find("> .ix-list-viewport"),h=F.find("> .ix-list-items"),m,d=p.getOptions(B.attr("data-ix-options")),f,C,y,D,w,n=0,A=!1,J,I=0;this.startTimer=function(){f&&f.reset().start()};this.stopTimer=function(){f&&f.stop()};this.changeIndex=function(a){a>D||0>a||(n<
a?this.next(a):n>a&&this.prev(a))};this.next=function(a,b){A||g(n+1,a,"next",b)};this.prev=function(a,b){A||g(n-1,a,"prev",b)};this.resize=function(){t.stopTimer();var a="horizontal"===d.axis?"width":"height";F.attr("style","");h.css(a,"");m.css(a,"").css("margin","");x();l(n);t.startTimer()};this.clear=function(){this.stopTimer();B.off("mouseover mouseout",v);y.clear();C&&C.clear();E(window).off("resize",t.resize);F.attr("style","");h.attr("style","");m.attr("style","");h.stop();m.removeAttr("data-origin-idx").removeAttr("data-idx");
p.removePlugin(B,"slide-lite")};this.getCurrentIndex=function(){return n};this.getTotalLength=function(){return D};m=h.find("> .ix-list-item");D=m.length;(function(){m.each(function(a,b){E(b).attr("data-idx",a)}).css({position:"absolute"})})();x();(function(){!d.autoPlay||2>D||(f=(new r.utils.Timer(d.delay,D,{onTimer:function(a){d.opposite?t.prev():t.next()},onComplete:function(a){t.startTimer()}})).start())})();(function(){if(d.autoPlay)B.on("mouseover mouseout",v);r.ua.TOUCH_DEVICE&&1<D&&(C=(new r.mobile.Swipe(F.get(0),
d.axis,{onAxis:function(a){A||(t.stopTimer(),e("touchStart"))},onMove:function(a){if(!A&&"slide"===d.motionType){a="horizontal"===d.axis?a.growX:a.growY;var b;b=a+I;var f=!1;d.loop||(0>=n&&b>-w?f=!0:n>=D-1&&b<-w&&(f=!0));a=(b=f)?.3*a+I:a+I;if(b&&d.bounce||!b)p.moveTo(h,a+"px",d),I=a}},onSwipe:function(a){A||(t.startTimer(),e("touchEnd"),0!==("horizontal"===d.axis?a.moveX:a.moveY)&&(a=a.swipe,"left"===a||"up"===a?t.next():"right"===a||"down"===a?t.prev():(e("slideStart"),u(n,"none",d.motionType))))}})).sensitivity(.5));
E(window).on("resize",t.resize)})();d.originLength=D;d.totalLength=D;3>D&&(d.loop=!1);if(d.defaultIndex>=D||0>d.defaultIndex)d.defaultIndex=0;d.duration||(d.duration=400);y=(new R(B,d,{onNext:b,onPrev:b,onIndex:b})).setIndex(d.defaultIndex,d.defaultIndex);l(d.defaultIndex);n=J;e("init")},X=function(a){function b(a){switch(a.type){case "next":k.next();break;case "prev":k.prev();break;case "index":k.changeIndex(a.index)}}function g(a){a>h-1?a=e.loop?0:h-1:0>a&&(a=e.loop?h-1:0);return a}function c(a,
b,c){d=!0;k.stopTimer();F.disable().setIndex(a,a);"overlay"===b?(b=v.eq(a).show(),p.opacity(b,0,e,null,null,!0),z.append(b),p.opacity(b,1,e,l,{idx:a,isSilent:c})):(v.eq(a).show().siblings().hide(),l({data:{idx:a,isSilent:c}}))}function l(a){var b=m;F.enable();k.startTimer();d=!1;m=a.data.idx;a.data.isSilent||(b!==m&&q("change"),q("slideEnd"))}function u(a){"mouseover"===a.type?k.stopTimer():k.startTimer()}function q(a){var b=-1<"init change slideEnd".indexOf(a)?!e.loop&&m===h-1:void 0;H.triggerHandler({type:"ixOverlayList:"+
a,currentIndex:m,totalLength:h,endpoint:b})}var k=this,H=a,x=H.find("> .ix-list-viewport"),z=x.find("> .ix-list-items"),v,e=p.getOptions(H.attr("data-ix-options")),t,B,F,h,m=0,d=!1;this.startTimer=function(){t&&t.reset().start()};this.stopTimer=function(){t&&t.stop()};this.changeIndex=function(a){a>h||0>a||(m<a?this.next(a):m>a&&this.prev(a))};this.next=function(a){d||(a=g("number"===typeof a?a:m+1),m!=a&&(q("slideStart"),c(a,e.motionType)))};this.prev=function(a){d||(a=g("number"===typeof a?a:m-
1),m!=a&&(q("slideStart"),c(a,e.motionType)))};this.clear=function(){this.stopTimer();H.off("mouseover mouseout",u);F.clear();B&&B.clear();x.attr("style","");v.attr("style","");z.stop();v.removeAttr("data-origin-idx").removeAttr("data-idx");p.removePlugin(H,"overlay-list")};this.getCurrentIndex=function(){return m};this.getTotalLength=function(){return h};v=z.find("> .ix-list-item");h=v.length;(function(){v.each(function(a,b){E(b).attr("data-idx",a)}).css({position:"absolute"})})();e.viewportRatio&&
x.css("height",r(x.get(0)).rect().width*(e.viewportRatio[1].value/e.viewportRatio[0].value)+"px");(function(){!e.autoPlay||2>h||(t=(new r.utils.Timer(e.delay,h,{onTimer:function(a){e.opposite?k.prev():k.next()},onComplete:function(a){k.startTimer()}})).start())})();(function(){if(e.autoPlay)H.on("mouseover mouseout",u);r.ua.TOUCH_DEVICE&&1<h&&(B=(new r.mobile.Swipe(x.get(0),e.axis,{onAxis:function(a){d||(k.stopTimer(),q("touchStart"))},onSwipe:function(a){d||(k.startTimer(),q("touchEnd"),a=a.swipe,
"left"===a||"up"===a?k.next():"right"!==a&&"down"!==a||k.prev())}})).sensitivity(.5))})();e.originLength=h;e.totalLength=h;if(e.defaultIndex>=h||0>e.defaultIndex)e.defaultIndex=0;"slide"===e.motionType&&(e.motionType="overlay");e.duration||(e.duration=400);F=(new R(H,e,{onNext:b,onPrev:b,onIndex:b})).setIndex(e.defaultIndex,e.defaultIndex);c(e.defaultIndex,"none",!0);q("init")},T=function(a,b,g,c){function l(a){switch(a.type){case "keydown":var b=a.which;47<b&&58>b||95<b&&106>b||8==b||9==b||16==b||
46==b||13==b||189==b||109==b||190==b||110==b||v(b)?13==a.which&&(a=d,x(!1,!1,!0),a!=d&&t.value(d,!1,!0)):a.preventDefault();break;case "focusin":x(!0,!1,!0);break;case "focusout":a=d,x(!1,!0,!0),a!=d&&(t.value(d,!1,!0),x(!1,!0,!1))}}function p(a){if(!C){var b=v(a.which);b&&a.preventDefault();"forward"===b?t.value(d+g.gap,!1,!0):"backward"===b&&t.value(d-g.gap,!1,!0)}}function q(b,c,d){var h={};b="horizontal"===g.axis?b:100-b;h[D]=b+"%";f=b;c?(a.stop().animate(h,g.duration,function(){e("change",d)}),
g.correctEndpoint&&g.duration&&e("mouseUp")):(a.stop().css(h),e("change",d))}function k(a){a<B?a=B:a>F&&(a=F);return a}function E(a){a<h?a=h:a>m&&(a=m);return a}function x(a,c,f){var e=d;a||(e=b.val(),"number"!==typeof Number(e)&&(e=d));e=a=z(e);c&&(e=k(e),c=g.addFirstStr,g.numberFormat&&(e=r.string.numberFormat(e)),e=c+e+g.addLastStr);b.val(e);f&&(d=E(a))}function z(a){var b=Math.round(a/g.gap)*g.gap,c=b-g.gap,d=0;b+g.gap>g.max&&b<a?(d=F-b)&&(b+=Math.round((a-b)/d)*d):c<g.min&&b>a&&(d=B-b)&&(b+=
Math.round((a-b)/d)*d);return b}function v(a){var b=void 0;if(37==a||40==a)b="backward";else if(38==a||39==a)b="forward";return b}function e(a,b){var e="on"+r.string.capitalize(a);c[e].call(t,{type:a,value:t.value(),currentValue:d,isUserInput:b})}var t=this,B,F,h,m,d,f,C=!1,y,D="horizontal"===g.axis?"left":"top";this.initialize=function(){b.on("keydown focusin focusout",l);a.on("keydown",p);return this};this.type=function(a){return a?(y=a,this):y};this.min=function(a,b){return"number"===typeof a?
(B=a,h="number"===typeof b?b:a,this):B};this.max=function(a,b){return"number"===typeof a?(F=a,m="number"===typeof b?b:a,this):F};this.value=function(a,b,c){return"number"===typeof a?(d=g.correctEndpoint&&b||g.snap?z(k(a)):E(a),x(!0,c?!1:!0,!1),q((d-g.min)/(g.max-g.min)*100,b,c),this):z(d)};this.percent=function(a,b){if("number"===typeof a){var c=a;0>c?c=0:100<c&&(c=100);this.value(c/100*(g.max-g.min)+g.min,b);return this}return f};this.enable=function(){C=!1;a.removeClass("disabled");b.attr("disabled",
!1);return this};this.disable=function(){C=!0;a.addClass("disabled");b.attr("disabled",!0);return this};this.focus=function(){a.focus();return this};this.clear=function(){b.off("keydown focusin focusout",l);a.off("keydown",p);return this};this.isDisabled=function(){return C}},Y=function(a){function b(a){var b=a[0];a=a[1];b<f.min&&(b=f.min);a>f.max&&(a=f.max);b>a&&(b=a);return[b,a]}function g(a){if(!K)switch(a.preventDefault(),a.stopPropagation(),a.type){case "touchcancel":case "touchend":P=!0;n.remove("touchmove",
g);n.remove("touchend",g);n.remove("touchcancel",g);w.percent("horizontal"===f.axis?A:100-A,!0);break;case "touchmove":w.percent(H(k(a)))}}function c(a){if(!K){a.preventDefault();a.stopPropagation();var b=H(k(a));switch(a.type){case "mousedown":L=!0;E(document).on("mousemove",c);E(document).on("mouseup",c);w=x(b);z("slideStart",!0,w.type());w.percent(b);break;case "mouseup":P=!0;E(document).off("mousemove",c);E(document).off("mouseup",c);w.percent(b,!0);break;case "mousemove":w.percent(b)}}}function l(a){if(C&&
y){var b,c,e={};"horizontal"===f.axis?(b=C.percent(),c=y.percent()):(b=y.percent(),c=C.percent());e[G]=b+"%";e[N]=c-b+"%";a&&f.correctEndpoint&&f.duration?d.stop().animate(e,f.duration):d.stop().css(e)}}function u(a){if(r.ua.TOUCH_DEVICE&&r.ua.WINDOWS)if(m.css({"-ms-touch-action":a,"touch-action":a}),"auto"==a)m.off("dragstart",q);else m.on("dragstart",q)}function q(a){a.preventDefault()}function k(a){var b=m.offset()[G];return"axis"===a.type||-1===a.type.indexOf("touch")?a[M]-b:a.touches[0][M]-b}
function H(a){a=a/m[N]()*100;return"horizontal"===f.axis?a:100-a}function x(a){var b=C,c=C.percent(),d=y.percent();a="horizontal"===f.axis?a:100-a;c=Math.abs(c-a);d=Math.abs(d-a);C.isDisabled()||y.isDisabled()?C.isDisabled()&&(b=y):c===d?"horizontal"===f.axis?A<a&&(b=y):A>a&&(b=y):c>d&&(b=y);return b.focus()}function z(a,b,c){if("init"===a)O=!0;else if(!O)return;"slideEnd"===a&&(P=L=!1);e.triggerHandler({type:"ixRangeSlider:"+a,values:v.getValues(),userInteraction:b,currentType:c})}var v=this,e=a,
t=e.find(".ix-min-input"),B=e.find(".ix-max-input"),F=e.find(".ix-min-icon"),h=e.find(".ix-max-icon"),m=e.find(".ix-slider-bar"),d=e.find(".ix-progress"),f=p.getOptions(e.attr("data-ix-options")),C,y,D,w,n,A=0,J,I,G,M,N,K=!1,O=!1,L=!1,P=!1;this.changeValues=function(a){2===a.length&&(a=b(a),C.max(a[1]).value(a[0]),y.min(a[0]).value(a[1]))};this.getValues=function(){return[C.value(),y.value()]};this.enable=function(a){a&&"min"!==a||C.enable();a&&"max"!==a||y.enable();C.isDisabled()||y.isDisabled()||
(e.removeClass("disabled"),K=!1);u("horizontal"===f.axis?"pan-y":"pan-x")};this.disable=function(a){a&&"min"!==a||C.disable();a&&"max"!==a||y.disable();C.isDisabled()&&y.isDisabled()&&(e.addClass("disabled"),K=!0,u("auto"))};this.clear=function(){n&&n.clear();u("auto");m.off("mousedown",c);E(document).off("mousemove mouseup",c);this.enable();D&&D.clear();C&&C.clear();y&&y.clear();p.removePlugin(e,"range-slider")};f.values=f.values&&1<f.values.length?[f.values[0].value,f.values[1].value]:[f.min,f.max];
f.max<f.min&&(f.max=f.min);f.snap&&(f.correctEndpoint=!1);f.gap>f.max-f.min&&(f.gap=f.max-f.min);"horizontal"===f.axis?(G="left",M="pageX",N="width"):(G="top",M="pageY",N="height");f.values=b(f.values);(function(){C=(new T(F,t,f,{onChange:function(a){var b=J!=a.value||I!=I;J=a.value;A=this.percent();l();y&&y.min(a.value,a.currentValue);b&&z("change",a.isUserInput||L,this.type());P&&z("slideEnd",!0,this.type())},onMouseUp:function(a){A=this.percent();l(!0)}})).type("min").min(f.min).max(f.values[1]).value(f.values[0]).initialize();
y=(new T(h,B,f,{onChange:function(a){var b=J!=J||I!=a.value;I=a.value;A=this.percent();l();C&&C.max(a.value,a.currentValue);b&&z("change",a.isUserInput||L,this.type());P&&z("slideEnd",!0,this.type())},onMouseUp:function(a){A=this.percent();l(!0)}})).type("max").min(f.values[0]).max(f.max).value(f.values[1]).initialize();r.ua.TOUCH_DEVICE&&(u("horizontal"===f.axis?"pan-y":"pan-x"),n=new r.mobile.TouchEvent(document),D=new r.mobile.GestureAxis(m,{onAxis:function(a){K||(n.add("touchmove",g),n.add("touchend",
g),n.add("touchcancel",g),a=H(k(a)),L=!0,w=x(a),z("slideStart",!0,w.type()),w.percent(a))}},{aType:f.axis}));m.on("mousedown",c)})();l();"string"===typeof f.disable?v.disable(f.disable):f.disable&&v.disable();z("init",!1)},Z=function(a){function b(a){a<h.min&&(a=h.min);a>h.max&&(a=h.max);return a}function g(a){if(!A)switch(a.preventDefault(),a.stopPropagation(),a.type){case "touchcancel":case "touchend":G=!0;f.remove("touchmove",g);f.remove("touchend",g);f.remove("touchcancel",g);m.percent("horizontal"===
h.axis?y:100-y,!0);break;case "touchmove":m.percent(H(k(a)))}}function c(a){if(!A){a.preventDefault();a.stopPropagation();var b=H(k(a));switch(a.type){case "mousedown":I=!0;E(document).on("mousemove",c);E(document).on("mouseup",c);x("slideStart",!0);m.focus().percent(b);break;case "mouseup":G=!0;E(document).off("mousemove",c);E(document).off("mouseup",c);m.percent(b,!0);break;case "mousemove":m.percent(b)}}}function l(a){if(m){var b={},c=m.percent(),d="horizontal"===h.axis?0:c;b[n]=("horizontal"===
h.axis?c:100-c)+"%";b[D]=d+"%";a&&h.correctEndpoint&&h.duration?F.stop().animate(b,h.duration):F.stop().css(b)}}function u(a){if(r.ua.TOUCH_DEVICE&&r.ua.WINDOWS)if(B.css({"-ms-touch-action":a,"touch-action":a}),"auto"==a)B.off("dragstart",q);else B.on("dragstart",q)}function q(a){a.preventDefault()}function k(a){var b=B.offset()[D];return"axis"===a.type||-1===a.type.indexOf("touch")?a[w]-b:a.touches[0][w]-b}function H(a){a=a/B[n]()*100;return"horizontal"===h.axis?a:100-a}function x(a,b){if("init"===
a)J=!0;else if(!J)return;"slideEnd"===a&&(G=I=!1);v.triggerHandler({type:"ixSlider:"+a,value:z.getValue(),userInteraction:b})}var z=this,v=a,e=v.find(".ix-input"),t=v.find(".ix-icon"),B=v.find(".ix-slider-bar"),F=v.find(".ix-progress"),h=p.getOptions(v.attr("data-ix-options")),m,d,f,C,y=0,D,w,n,A=!1,J=!1,I=!1,G=!1;this.changeValue=function(a){a&&m.value(b(a))};this.getValue=function(){return m.value()};this.enable=function(){m.enable();v.removeClass("disabled");A=!1;u("horizontal"===h.axis?"pan-y":
"pan-x")};this.disable=function(){m.disable();v.addClass("disabled");A=!0;u("auto")};this.clear=function(){f&&f.clear();u("auto");B.off("mousedown",c);E(document).off("mousemove mouseup",c);this.enable();d&&d.clear();m&&m.clear();p.removePlugin(v,"slider")};h.max<h.min&&(h.max=h.min);h.snap&&(h.correctEndpoint=!1);h.gap>h.max-h.min&&(h.gap=h.max-h.min);"horizontal"===h.axis?(D="left",w="pageX",n="width"):(D="top",w="pageY",n="height");"number"!==typeof h.value&&(h.value=h.min);h.value=b(h.value);
(function(){m=(new T(t,e,h,{onChange:function(a){var b=C!==a.value;C=a.value;y=this.percent();l();b&&x("change",a.isUserInput||I);G&&x("slideEnd",!0)},onMouseUp:function(a){y=this.percent();l(!0)}})).min(h.min).max(h.max).value(h.value).initialize();r.ua.TOUCH_DEVICE&&(u("horizontal"===h.axis?"pan-y":"pan-x"),f=new r.mobile.TouchEvent(document),d=new r.mobile.GestureAxis(B,{onAxis:function(a){A||(f.add("touchmove",g),f.add("touchend",g),f.add("touchcancel",g),a=H(k(a)),I=!0,x("slideStart",!0),m.focus().percent(a))}},
{aType:h.axis}));B.on("mousedown",c)})();l();h.disable&&z.disable();x("init",!1)};Q.ListIndexManager=U;Q.ThumbController=R;Q.utils=p;window.ixSnack=window.ixSnack||Q})(jQuery,ixBand);
